<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h3>please enter the amount of your order</h3>
    <input placeholder="total amount"  onkeydown="calculateOnEnter()" class="calculate"> 
    <button onclick="totalBill()" class="js-calculate-button">Calculate</button>
    <button onclick="reset()" class="js-reset-button">Reset</button>
    <p class="js-cost"></p>

    <script>
        let initialCost; /*make cost a global variable so it can be used by multiple functions*/  
        let newCost;
        let finalCost;

        function totalBill(){
            
            let inputAmount = document.querySelector('input').value;
            let initialCost = Number(inputAmount);

            if(initialCost>=40){
                newCost = initialCost;
                let gst = 0.18 * newCost;
                finalCost = newCost + gst;
                document.querySelector('.js-cost').innerHTML = `Amount = ${initialCost}₹<br>GST(18%) = ${gst.toFixed(2)}₹<br>Delivery charges = FREE<br>Total amount = ${finalCost.toFixed(2)}₹  ≈ ${finalCost.toFixed(0)}₹`;
            }

            else if(inputAmount === '' || inputAmount === '0'){
                document.querySelector('.js-cost').innerHTML = 'please enter an amount';
            }

            else{
                newCost = initialCost  + 10;
                let gst = 0.18 * newCost;
                finalCost = newCost + gst;
                document.querySelector('.js-cost').innerHTML = `Amount = ${initialCost}₹ (Buy items worth ${40-initialCost}₹ to avail FREE delivery)<br>GST(18%) = ${gst.toFixed(2)}₹
                <br>Delivery charges = 10<br>Total amount = ${finalCost.toFixed(2)}₹ ≈ ${finalCost.toFixed(0)}`;
            }
        }

        function reset(){
            document.querySelector('input').value = ''; /*This is to clear the input box*/
            document.querySelector('.js-cost').innerHTML = 'your bill was reset';
        }

        function calculateOnEnter(){
            if(event.key == 'Enter'){
                totalBill();
            }
        }
    </script>   

</body>
</html>